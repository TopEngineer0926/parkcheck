{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeIndicator = require(\"react-native-indicator\");\n\nvar _reactNativeI18nLocalize = require(\"react-native-i18n-localize\");\n\nvar _logo = _interopRequireDefault(require(\"../assets/images/logo.png\"));\n\nvar _carlogo = _interopRequireDefault(require(\"../assets/images/carlogo.png\"));\n\nvar _reactNativeExitApp = _interopRequireDefault(require(\"react-native-exit-app\"));\n\nvar _fetch = require(\"../fetch\");\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Works\\\\Workspace\\\\Mobile\\\\parkcheck-android-app-master\\\\parkcheck-android-app-master\\\\src\\\\screens\\\\Landing.js\";\n\nvar Landing = function Landing(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = (0, _react.useState)(true),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      loaderFlag = _useState2[0],\n      setLoaderFlag = _useState2[1];\n\n  var moveToLogin = function moveToLogin(data) {\n    if (data.server == \"live\") navigation.replace('LogIn', {\n      headerTitle: _reactNativeI18nLocalize.i18n.t('parkcheck') + ' ' + _reactNativeI18nLocalize.i18n.t('switzerland')\n    });\n  };\n\n  var failedConnect = function failedConnect() {\n    setLoaderFlag(false);\n\n    _reactNative.Alert.alert(_reactNativeI18nLocalize.i18n.t('warn'), _reactNativeI18nLocalize.i18n.t('not_connect_server'), [{\n      text: _reactNativeI18nLocalize.i18n.t('ok')\n    }]);\n\n    setTimeout(function () {\n      return _reactNativeExitApp.default.exitApp();\n    }, 2000);\n  };\n\n  var checkServer = function checkServer() {\n    (0, _fetch.MyFetch)(10, fetch('http://150.95.129.109/wp-json/violation/live', {\n      method: 'POST'\n    })).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      moveToLogin(json);\n    }).catch(function (error) {\n      console.log(error);\n      failedConnect();\n    });\n  };\n\n  (0, _react.useEffect)(function () {\n    return checkServer();\n  }, []);\n  return _react.default.createElement(_reactNative.View, {\n    style: styles.main,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.View, {\n    style: styles.contain,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Image, {\n    style: styles.logo,\n    source: _logo.default,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), _react.default.createElement(_reactNative.Text, {\n    style: styles.logotext,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, _reactNativeI18nLocalize.i18n.t('parkcheck')), _react.default.createElement(_reactNative.Text, {\n    style: styles.logotext,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, _reactNativeI18nLocalize.i18n.t('switzerland'))), _react.default.createElement(_reactNative.View, {\n    style: styles.containCarImg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNative.Image, {\n    style: styles.carImg,\n    source: _carlogo.default,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  })), _react.default.createElement(_reactNative.View, {\n    style: styles.loader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, loaderFlag && _react.default.createElement(_reactNativeIndicator.DotsLoader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  })));\n};\n\nvar _default = Landing;\nexports.default = _default;\n\nvar styles = _reactNative.StyleSheet.create({\n  main: {\n    flex: 1,\n    padding: 30,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    backgroundColor: 'white'\n  },\n  contain: {\n    alignItems: 'center',\n    width: '100%'\n  },\n  logo: {\n    resizeMode: 'contain',\n    width: _reactNative.Dimensions.get('window').width / 4,\n    height: _reactNative.Dimensions.get('window').width / 4\n  },\n  logotext: {\n    fontSize: 20\n  },\n  carImg: {\n    resizeMode: 'contain',\n    width: _reactNative.Dimensions.get('window').width / 1.5,\n    flex: 1,\n    marginTop: 40\n  },\n  containCarImg: {\n    width: '100%',\n    height: _reactNative.Dimensions.get('window').width / 2,\n    marginTop: 30,\n    alignItems: 'center'\n  },\n  loader: {\n    marginTop: 50,\n    width: '100%',\n    display: 'flex',\n    alignItems: 'center'\n  }\n});","map":{"version":3,"sources":["D:/Works/Workspace/Mobile/parkcheck-android-app-master/parkcheck-android-app-master/src/screens/Landing.js"],"names":["Landing","navigation","loaderFlag","setLoaderFlag","moveToLogin","data","server","replace","headerTitle","i18n","t","failedConnect","Alert","alert","text","setTimeout","RNExitApp","exitApp","checkServer","fetch","method","then","response","json","catch","error","console","log","styles","main","contain","logo","img","logotext","containCarImg","carImg","loader","StyleSheet","create","flex","padding","flexDirection","justifyContent","backgroundColor","alignItems","width","resizeMode","Dimensions","get","height","fontSize","marginTop","display"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  Image,\n  Alert,\n  Dimensions\n} from 'react-native';\nimport { DotsLoader } from 'react-native-indicator';\nimport { i18n } from 'react-native-i18n-localize';\nimport img from '../assets/images/logo.png';\nimport carImg from '../assets/images/carlogo.png'\nimport RNExitApp from 'react-native-exit-app';\nimport { MyFetch } from '../fetch';\n\n\nconst Landing = ({ navigation }) => {\n\n  const [loaderFlag, setLoaderFlag] = useState(true);\n\n  const moveToLogin = (data) => {\n  \n    \n    if (data.server == \"live\")\n      navigation.replace('LogIn', { headerTitle: i18n.t('parkcheck')+' '+i18n.t('switzerland') });\n  }\n\n  const failedConnect = () => {\n    setLoaderFlag(false);\n    Alert.alert( \n      i18n.t('warn'),\n      i18n.t('not_connect_server'),\n      [{text: i18n.t('ok'), },]\n    );\n    setTimeout(() => RNExitApp.exitApp(),2000);\n  }\n\n  const checkServer = () => {\n\n    MyFetch(10, fetch('http://150.95.129.109/wp-json/violation/live',{\n      method: 'POST'\n    }))\n    .then((response) => response.json())\n    .then((json) => { \n      moveToLogin(json); })\n    .catch((error) => {\n      console.log(error);\n      failedConnect();\n    });\n\n  }\n\n\n  useEffect(() => checkServer(), []);\n\n  return (\n    <View style={styles.main}>\n      <View style={styles.contain}>\n        <Image style={styles.logo} source={img} />\n        <Text style={styles.logotext}>{i18n.t('parkcheck')}</Text>\n        <Text style={styles.logotext}>{i18n.t('switzerland')}</Text>\n      </View>\n      <View style={styles.containCarImg}>\n        <Image style={styles.carImg} source={carImg}></Image>\n      </View>\n      <View style={styles.loader}>\n        {loaderFlag &&\n          <DotsLoader />\n        }\n      </View>\n    </View>\n\n  );\n}\n\nexport default Landing;\n\n\nconst styles = StyleSheet.create({\n  main: {\n    flex: 1,\n    padding: 30,\n    flexDirection: 'column',\n    justifyContent: 'center',\n    backgroundColor: 'white'\n  },\n  contain: {\n    alignItems: 'center',\n    width: '100%',\n  },\n  logo: {\n    resizeMode: 'contain',\n    width: Dimensions.get('window').width / 4,\n    height: Dimensions.get('window').width / 4\n  },\n  logotext: {\n    fontSize: 20,\n  },\n  carImg: {\n    resizeMode: 'contain',\n    width: Dimensions.get('window').width / 1.5,\n    flex: 1,\n    marginTop: 40,\n  },\n  containCarImg: {\n    width: '100%',\n    height: Dimensions.get('window').width / 2,\n    marginTop: 30,\n    alignItems: 'center'\n  },\n  loader: {\n    marginTop: 50,\n    width: '100%',\n    display: 'flex',\n    alignItems: 'center',\n  }\n});"]},"metadata":{},"sourceType":"script"}